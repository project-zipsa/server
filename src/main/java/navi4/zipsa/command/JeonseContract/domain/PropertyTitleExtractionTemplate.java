package navi4.zipsa.command.JeonseContract.domain;

public class PropertyTitleExtractionTemplate {

    public static final String REQUEST_MESSAGE
            = "이미지에서 추출한 위 등기부등본 텍스트를 바탕으로 아래 템플릿에 맞춰 필요한 데이터를 추출해줘";

    public static final String TEMPLATE = """
            [출력 규약]
             - 날짜정보는 YYYY-MM-DD로 출력
             - 권리관계 항목은 갑구/을구 구분 없이 모두 탐색
             - 단, 등기목적 또는 등기원인에 '말소'가 명시된 등기사항은 출력하지 않으며, 해당 항목은 위험 권리관계에서도 제외함
             - 말소된 등기를 기반으로 한 후속 등기(예: 변경, 추가설정 등)도 함께 제외(즉, 원 등기가 말소되었으면 관련 후속 등기도 모두 효력 없는 것으로 간주)
             - 위험 권리관계가 여러 개인 경우 배열로 출력
             - 각 항목의 실제 등기 위치(갑구/을구)는 "구분" 필드로 구분
             - 권리관계에 해당하지 않으면 "해당없음"으로 표시
             - 아래 '권리관계 항목'에서 해당하는 항목의 알파벳만 출력
             
             [권리관계 항목]
             	(A) 가등기
             	(B) 저당권 혹은 근저당권
             	(C) 전세권
             	(D) 신탁등기 혹은 신탁
             	(E) 임차권 등기 명령 혹은 임차권
             	(F) 임대인 아닌 제3자의 전세권 등기 (전세권자 이름이 계약서 상 임대인 이름과 다를 때
             	(G) 가압류
             	(H) 압류
             	(I) 경매 개시 결정 (경매, 강제 경매, 경매 개시 결정)
             	(J) 가처분
             	(K) 빈번한 소유권 이전 (1년 내 2회 이상 소유자 변경)
             	(L) 권리 변동 반복, 다종 권리 동시 설정
             		- 가등기, 저당권(또는 근저당권), 전세권, 신탁, 임차권, 가압류, 압류, 경매, 가처분] 중 2개 이상 존재 시
             	(M) 동일 권리 다중 설정 (동일 권리(저당권, 가압류, 전세권 등)이 2건 이상 설정 또는 동일 채권자 이름이 2회 이상 시)
             		- 등기부 '을구'에 같은 종류의 권리가 2건 이상 설정되어 있는 경우
             		- 또는 같은 채권자 이름이 2번 이상 반복될 경우
             		- 예: 저당권 2건, 전세권 2건, 채권자 'OO은행'이 2회 이상 등장

             [최종 응답 JSON 형식]
             {
               "data": {
                 "소유자명": "",      // 현재 소유자 성명
                 "전체주소": "",
                 "건물용도" : ""      // ex) 주택, 상가, 오피스텔, 제1종 근린생활시설, 사무실, 다중주택 등의 건물용도
                 "건물구조" : "",     // ex) 철근콘크리트조, RC조, 벽돌조, 목조 등의 건물구조
                 "폐쇄등기여부" : "",  // True/False(관련 정보가 없다면 False)
                 "갑구_전체": [            // 갑구가 여러 개일 수 있으므로 배열로 처리
	                 {
		                 "등기목적": "",
		                 "등기원인": "",
		                 "등기일": "",
		                 "최근 접수": "",
		                 "권리자": ""
	                 },
	                 ...
                 ]
                 "을구_전체": [            // 을구가 여러 개일 수 있으므로 배열로 처리
	                 {
		                 "등기목적": "",
		                 "등기원인": "",
		                 "등기일": "",
		                 "권리자": ""
		               },
	                 ...
                 ],
                 "위험권리관계": [         // 갑구/을구 구분 포함한 위험 권리 리스트
	                 {
		                 "구분": "갑구 또는 을구",
		                 "등기목적": "",
		                 "등기일": "",
		                 "권리자": "",
		                 "권리관계": "A~M 중 하나 또는 해당없음"
	                 },
	                 ...
                 ]
               }
             }
			       """;
}