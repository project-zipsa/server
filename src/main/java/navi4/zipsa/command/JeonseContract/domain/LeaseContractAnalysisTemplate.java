package navi4.zipsa.command.JeonseContract.domain;

public class LeaseContractAnalysisTemplate {

    public static final String REQUEST_DETAIL =
            "이미지로부터 텍스트를 추출한 위 계약서를 읽고, 아래에 제공된 분석 조건에 따라 템플릿 형식에 맞춰 JSON 형태로 분석 결과를 출력해줘\n\n";

    public static final String ANALYSIS_TEMPLATE = """
                        {
                          "data": {
                            "임대인명": "",
                            "전체주소": "",
                            "건물명": "",
                            "임대차 시작일": "",
                            "임대차 종료일": "",
                            "전용면적": "",
                            "총 보증금": "",
                            "잔금": "",
                            "층수": "",
                            "건물용도": "" // ex) 주택, 상가, 오피스텔, 제1종 근린생활시설, 상가, 사무실, 다중주택 등
                          },
                          "계약 위험 분석 결과": {
                            "보증금 반환 조건 명시 여부": {
                              "답변": "",
                              "경고": "", // "답변"이 "NO"일 경우에만 작성
                              "근거 조항": ""
                            },
                            "과도한 위약금 조항 존재 여부": {
                              "답변": "예 또는 아니오",
                              "경고": "", // "답변"이 "YES"일 경우에만 작성
                              "근거 조항": ""
                            },
                            "일방적인 계약 해지 조건 존재 여부": {
                              "답변": "",
                              "경고": "", // "답변"이 "YES"일 경우에만 작성
                              "근거 조항": ""
                            },
                            "원상복구 범위 불명확 조항 존재 여부": {
                              "답변": "",
                              "경고": "", // "답변"이 "YES"일 경우에만 작성
                              "근거 조항": ""
                            },
                            "임대인 정보 불일치 여부": {
                              "답변": "",
                              "경고": "", // "답변"이 "YES"일 경우에만 작성
                              "근거 조항": ""
                            },
                            "계약 만료일 미기재 또는 불명확 여부": {
                              "답변": "",
                              "경고": "", // "답변"이 "YES"일 경우에만 작성
                              "근거 조항": ""
                            },
                            "특약 조항의 모호성 또는 불리한 해석 가능성 여부": {
                              "답변": "",
                              "경고": "", // "답변"이 "YES"일 경우에만 작성
                              "근거 조항": ""
                            },
                            "기타 불리한 조항 존재 여부 분석": {
                              "답변": "",
                              "경고": "", // "답변"이 "YES"일 경우에만 작성
                              "근거 조항": ""
                            }
                          },
                          "위험 요소별 점수": {
                            "보증금 반환 조건": "0 ~ 3",
                            "과도한 위약금 조항": "0 ~ 3",
                            "일방적인 계약 해지 조건": "0 ~ 3",
                            "원상복구 범위 불명확 조항": "0 ~ 3",
                            "임대인 정보 불일치": "0 ~ 3",
                            "계약 만료일 미기재 또는 불명확": "0 ~ 3",
                            "특약 조항의 모호성": "0 ~ 3",
                            "기타 불리한 조항": "0 ~ 3"
                          },
                          "전체 위험 요소 수": "0 ~ 8",
                          "최고 위험 점수": "0 ~ 3",
                          "전체 위험도 점수": "0 ~ 24",
                          "사기 유형 및 대처 방안": {
                            "보증금 반환 조건": {
                              "사기 유형": "보증금 반환을 지연하거나 회피하는 경우가 있어요.",
                              "대처 방안": "반환 시점 명확히 명시, 확정일자 등록, 전세권 설정 검토, 임대인 계좌 확인해요."
                            },
                            "과도한 위약금 조항": {
                              "사기 유형": "위약금을 과도하게 설정해 협박 수단으로 악용될 수 있어요.",
                              "대처 방안": "보증금의 10% 이내가 적정, 불공정 조항은 협의 또는 삭제해요."
                            },
                            "일방적인 계약 해지 조건": {
                              "사기 유형": "임대인이 일방 해지로 계약 종료를 주장할 수 있어요.",
                              "대처 방안": "쌍방 해지 조건으로 명시하거나 임차인 권리 보호 조항 추가해요."
                            },
                            "원상복구 범위 불명확": {
                              "사기 유형": "모호한 복구 기준으로 과도한 청구를 받을 수 있어요.",
                              "대처 방안": "입주 전/후 사진 기록, 복구 기준 명확히 하고 법적 기준 참고해요."
                            },
                            "임대인 정보 불일치": {
                              "사기 유형": "명의자 사칭이나 위임장 위조가 있을 수 있어요.",
                              "대처 방안": "등기부와 계약서 일치 확인, 위임장 원본 확보해요."
                            },
                            "계약 만료일 미기재 또는 불명확": {
                              "사기 유형": "종료 시점 분쟁 발생 가능성이 있어요.",
                              "대처 방안": "시작일과 종료일 명확히 기재하고 확정일자 받아요."
                            },
                            "특약 조항의 모호성 또는 불리한 해석 가능성": {
                              "사기 유형": "임차인에게 불리한 해석으로 이어질 수 있어요.",
                              "대처 방안": "특약 조항은 명확하게 작성하고 불명확한 문장은 삭제 요청해요."
                            },
                            "기타 불리한 조항": {
                              "사기 유형": "사례 기반 위험 문장이 포함됐을 수 있어요.",
                              "대처 방안": "GPT가 표시한 문장은 꼼꼼히 확인하고 전문가 자문 받아요."
                            }
                          },
                          "조항별 요약 및 설명": {
                            "보증금 반환 조건": "",
                            "과도한 위약금 조항": "",
                            "일방적인 계약 해지 조건": "",
                            "원상복구 범위 불명확 조항": "",
                            "임대인 정보 불일치": "",
                            "계약 만료일 미기재 또는 불명확 조항": "",
                            "특약 조항의 모호성 조항": "",
                            "기타 불리한 조항": ""
                          }
                        }
                        """;

    public static final String RESPONSE_CONDITION = """
                    중요 조건:
                    - "답변"은 반드시 "예" 또는 "아니오"로 출력
                    - 비용과 관련한 답변은 콤마 등의 특수문자 없는 숫자 형태로 출력(단위: 만원)
                    - 날짜 관련 답변은 YYYY-MM-DD 형태로 출력
                    - 층수와 전용면적은 숫자만 출력
                    - 경고는 "답변"이 "아니오"일 때만 작성, 그렇지 않으면 공란으로
                    - 위험 점수는 반드시 아래 기준표대로
                    - “사기 유형 및 대처 방안”, “조항별 요약 및 설명”은 해당 항목 점수가 1점 이상인 경우에만 출력. 점수가 0점이면 출력 X
                    - 표현은 부드러운 안내 문체(예: ~해요, ~돼 있어요)를 사용
                    - 전체 JSON 구조와 항목 이름은 템플릿에서 한 글자도 바꾸지 말고 그대로 출력(조건을 만족하지 않는 항목은 해당 블록 자체를 생략)
                
                    [점수 기준표]
                    
                    보증금 반환 조건 항목의 점수 기준은 다음과 같아요:
                    - 0점: 보증금 반환 시기 기재 (예: 계약 종료 후 7일 이내 반환)
                    - 1점: ‘빠른 시일 내 반환’ 등 구체적인 날짜가 기재되지 않음 존재
                    - 2점: ‘협의하여 반환’, ‘상호 판단에 따라’ 등 구체적인 조건, 주체 또는 시점이 누락됨 표현
                    - 3점: ‘반환 여부는 임대인 판단에 따른다’ 등 계약 핵심 위반
                
                    과도한 위약금 조항 항목의 점수 기준은 다음과 같아요:
                    - 0점: 위약금 명시되어 있지 않음 또는 상호 균형 있고 보증금의 10% 이하
                    - 1점: 위약금 10% 이내이나 기준 구체적인 조건, 주체 또는 시점이 누락됨 또는 표현 애매
                    - 2점: 위약금 11~20%, 부담 주체 임대인 또는 임차인 중 한 쪽에만 권한이 있음
                    - 3점: 위약금 20% 이상 또는 임차인에게만 부과
                
                    일방적인 계약 해지 조건 항목의 점수 기준은 다음과 같아요:
                    - 0점: 쌍방 합의로만 계약 해지 허용 또는 조건부로 인정됨
                    - 1점: 일방 해지 허용 또는 조건부로 인정됨하나 사전 통보 조건 포함
                    - 2점: 임대인에게 해지권만 있음, 임차인 권리 미언급
                    - 3점: 임대인이 언제든지 해지 허용 또는 조건부로 인정됨 / 임차인 권리 제한 문구
                
                    원상복구 범위 불명확 항목의 점수 기준은 다음과 같아요:
                    - 0점: 구체적인 원상복구 조건이 명시됨 (예: 페인트, 전등, 바닥 손상 등)
                    - 1점: ‘일반적 수준에서 원상복구’ 등 다소 구체적인 조건이 기재되지 않음
                    - 2점: 복구 범위 광범위 or ‘전체 복구’ 등 계량화 불허용 또는 조건부로 인정됨한 표현 포함
                    - 3점: ‘전부 원상복구’, ‘모든 상태를 최초로 복구’ 등 법적 또는 실무적으로 불허용 또는 조건부로 인정됨한 수준의 요구 사항 포함
                
                    임대인 정보 불일치 항목의 점수 기준은 다음과 같아요:
                    - 0점: 계약서 상 임대인 정보가 등기부와 완전히 일치
                    - 1점: 주소 또는 연락처 등 세부 정보 전체 필수 정보 중 일부가 빠짐
                    - 2점: 등기부와 임대인 이름 계약서와 등기부 정보가 동일하지 않음 / 위임장 부재
                    - 3점: 임대인 명시 명시되어 있지 않음 또는 제3자 명의 계좌 제공
                
                    계약 만료일 미기재 또는 불명확 항목의 점수 기준은 다음과 같아요:
                    - 0점: 시작일과 종료일이 명확히 명시됨 (YYYY.MM.DD 형식)
                    - 1점: 계약 기간은 있으나 날짜 형식이 구체적인 조건, 주체 또는 시점이 누락됨 또는 약식
                    - 2점: ‘1년 계약’ 등 날짜 없이 기간만 명시
                    - 3점: 기간 기재 완전 누락 또는 ‘계약일 기준’ 등 모호
                
                    특약 조항의 모호성 또는 불리한 해석 가능성 항목의 점수 기준은 다음과 같아요:
                    - 0점: 특약 내용이 명확하고 임대인·임차인 모두에게 균형 있게 적용
                    - 1점: 다소 추상적인 특약이나 큰 불이익은 아님
                    - 2점: 모호하거나 임차인에게만 책임이 집중됨
                    - 3점: ‘임차인은 어떠한 권리도 주장할 수 없다’ 등 권리 포기 조항
                
                    기타 불리한 조항 (GPT 자율 탐지) 항목의 점수 기준은 다음과 같아요:
                    - 0점: 위험 조항 명시되어 있지 않음, 모든 문장 명확함
                    - 1점: 일반적으로 문제되지 않으나 문장 일부가 모호함
                    - 2점: 과거 사기 사례와 유사한 문구 존재
                    - 3점: GPT 기준 명확한 사기 사례로 분류되는 문구 포함
                    """;
}
